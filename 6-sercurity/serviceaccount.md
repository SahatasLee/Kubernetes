# Service Account

‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö üòä ‡∏°‡∏≤‡∏î‡∏π‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á **Kubernetes ServiceAccount (SA)** ‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Å‡∏±‡∏ô ‚Äî ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á RBAC ‡πÅ‡∏•‡∏∞ security ‡∏Ç‡∏≠‡∏á Pod

---

## üß© **ServiceAccount ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£**

‡πÉ‡∏ô Kubernetes

> üß† **ServiceAccount (SA)** ‡∏Ñ‡∏∑‡∏≠ ‚Äú‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô cluster‚Äù
> ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô ‚ÄúUser ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‚Äù ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **Pod ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô** ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ö Kubernetes API

---

### üîç ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á ‚ÄúUser Account‚Äù ‡πÅ‡∏•‡∏∞ ‚ÄúServiceAccount‚Äù

| ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó             | ‡πÉ‡∏ä‡πâ‡πÇ‡∏î‡∏¢                                  | ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏¢               | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á                 |
| ------------------ | --------------------------------------- | -------------------------- | ------------------------ |
| **User Account**   | ‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå (‡πÄ‡∏ä‡πà‡∏ô DevOps, Admin)             | ‡∏£‡∏∞‡∏ö‡∏ö‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å ‡πÄ‡∏ä‡πà‡∏ô LDAP, OIDC | `kubectl` CLI            |
| **ServiceAccount** | ‡πÅ‡∏≠‡∏õ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô cluster (‡πÄ‡∏ä‡πà‡∏ô Pod, Controller) | Kubernetes API             | Pod, CronJob, Deployment |

---

## ‚öôÔ∏è **‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ ServiceAccount**

‡πÄ‡∏°‡∏∑‡πà‡∏≠ Pod ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ Kubernetes API (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏£‡πâ‡∏≤‡∏á Pod ‡πÉ‡∏´‡∏°‡πà, ‡∏≠‡πà‡∏≤‡∏ô ConfigMap, ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏π Secret)
‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÉ‡∏ä‡πâ ServiceAccount ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ ‚Äú‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‚Äù ‡∏Å‡∏±‡∏ö API Server

üëâ ‡πÇ‡∏î‡∏¢‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡∏ó‡∏∏‡∏Å Pod ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö SA ‡∏ä‡∏∑‡πà‡∏≠ `default` ‡πÉ‡∏ô namespace ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

---

## üì¶ **‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á ServiceAccount**

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á SA ‡∏ä‡∏∑‡πà‡∏≠ `my-app-sa`

```yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-app-sa
  namespace: dev
```

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß Kubernetes ‡∏à‡∏∞:

* ‡∏™‡∏£‡πâ‡∏≤‡∏á **ServiceAccount token (JWT)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô
* ‡πÄ‡∏Å‡πá‡∏ö token ‡πÉ‡∏ô Secret ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤)
* ‡πÉ‡∏ô Kubernetes ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà (>=1.24) ‡πÉ‡∏ä‡πâ **BoundServiceAccountTokenVolume** ‡πÅ‡∏ó‡∏ô Secret

---

## üß© **Pod ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö ServiceAccount ‡∏¢‡∏±‡∏á‡πÑ‡∏á**

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ Pod ‡πÉ‡∏ä‡πâ SA ‡πÉ‡∏î SA ‡∏´‡∏ô‡∏∂‡πà‡∏á
‡∏£‡∏∞‡∏ö‡∏∏‡πÉ‡∏ô spec ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-app
spec:
  serviceAccountName: my-app-sa
  containers:
  - name: app
    image: nginx
```

‚û°Ô∏è ‡∏ï‡∏≠‡∏ô Pod ‡∏£‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤
Kubernetes ‡∏à‡∏∞ mount token ‡∏Ç‡∏≠‡∏á SA ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏µ‡πà path `/var/run/secrets/kubernetes.io/serviceaccount/token`
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ container ‡πÉ‡∏ä‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö API Server ‡πÑ‡∏î‡πâ

---

## üîê **‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö RBAC (Role / ClusterRole)**

ServiceAccount ‡πÄ‡∏≠‡∏á ‚Äú‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‚Äù ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ ‚Äú‡∏°‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‚Äù ‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ **RoleBinding** ‡∏´‡∏£‡∏∑‡∏≠ **ClusterRoleBinding**

‡πÄ‡∏ä‡πà‡∏ô:

```yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: sa-read-pods
  namespace: dev
subjects:
- kind: ServiceAccount
  name: my-app-sa
  namespace: dev
roleRef:
  kind: Role
  name: pod-reader
  apiGroup: rbac.authorization.k8s.io
```

üéØ ‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå `my-app-sa` ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Pods ‡πÉ‡∏ô namespace `dev` ‡πÑ‡∏î‡πâ

---

## üìú **‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á (Real use cases)**

| Use Case                                | ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á ServiceAccount                                            |
| --------------------------------------- | ---------------------------------------------------------------------- |
| üîÑ Controller ‡πÄ‡∏ä‡πà‡∏ô Deployment, CronJob  | ‡πÉ‡∏ä‡πâ SA ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á/‡∏•‡∏ö Pods                                              |
| üß∞ Jenkins CI/CD                        | ‡πÉ‡∏ä‡πâ SA ‡πÄ‡∏û‡∏∑‡πà‡∏≠ deploy ‡πÑ‡∏õ‡∏¢‡∏±‡∏á cluster                                      |
| üïµÔ∏è‚Äç‚ôÇÔ∏è Monitoring Tools ‡πÄ‡∏ä‡πà‡∏ô Prometheus | ‡πÉ‡∏ä‡πâ SA ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á metrics ‡∏à‡∏≤‡∏Å API                                        |
| üõ°Ô∏è ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå                         | ‡πÉ‡∏ä‡πâ SA ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö Role/RoleBinding ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏≠‡∏õ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á |

---

## üß† **Best Practices**

‚úÖ **‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ `default` ServiceAccount** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö workloads ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‚Äî ‡∏Ñ‡∏ß‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á
‚úÖ ‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å **Least Privilege** (‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:

```bash
kubectl auth can-i list pods --as=system:serviceaccount:dev:my-app-sa -n dev
```

‚úÖ ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô token ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ (Bound tokens ‡∏°‡∏µ expiration ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß)

---

## üîé **‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå**

```
Pod ‚Üí ‡πÉ‡∏ä‡πâ ServiceAccount ‚Üí ‡∏ñ‡∏π‡∏Å Bind ‡∏Å‡∏±‡∏ö Role ‚Üí Role ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ö‡∏ô Resource ‚Üí API Server
```

---

‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏ß‡∏≤‡∏î‡πÅ‡∏ú‡∏ô‡∏†‡∏≤‡∏û‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á
**Pod ‚Üí ServiceAccount ‚Üí RoleBinding ‚Üí Role ‚Üí API Server** ‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?
‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á Authentication ‡πÅ‡∏•‡∏∞ Authorization ‡∏ä‡∏±‡∏î‡∏°‡∏≤‡∏Å üöÄ
